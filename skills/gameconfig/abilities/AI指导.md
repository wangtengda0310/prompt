# AI ä½¿ç”¨ gameconfig æŒ‡å¯¼

## AI è§¦å‘åœºæ™¯

å½“ç”¨æˆ·è¯·æ±‚ä»¥ä¸‹æ“ä½œæ—¶ï¼ŒAI åº”ä¸»åŠ¨ä½¿ç”¨ gameconfig skillï¼š

### 1. é…ç½®å®¡æŸ¥
ç”¨æˆ·è¯·æ±‚ç¤ºä¾‹ï¼š
- "å®¡æŸ¥ä¸€ä¸‹è£…å¤‡è¡¨é…ç½®"
- "æ£€æŸ¥é…ç½®è¡¨æœ‰ä»€ä¹ˆé—®é¢˜"
- "è¿™ä¸ªé…ç½®ç¬¦åˆè§„èŒƒå—ï¼Ÿ"

AI è¡Œä¸ºï¼š
1. è¯»å–é…ç½®æ–‡ä»¶ï¼ˆExcel/CSVï¼‰
2. åˆ†ææ•°æ®è´¨é‡ï¼ˆç¼ºå¤±å€¼ã€å¼‚å¸¸å€¼ã€èŒƒå›´æ£€æŸ¥ï¼‰
3. æ£€æŸ¥ç»“æ„å®Œæ•´æ€§ï¼ˆå¿…å¡«å­—æ®µã€ç±»å‹ä¸€è‡´ï¼‰
4. ç”Ÿæˆå®¡æŸ¥æŠ¥å‘Š

### 2. æµ‹è¯•æ•°æ®ç”Ÿæˆ
ç”¨æˆ·è¯·æ±‚ç¤ºä¾‹ï¼š
- "ç”Ÿæˆæµ‹è¯•æ•°æ®"
- "ä¸ºè£…å¤‡è¡¨åˆ›å»º mock æ•°æ®"
- "å†™ä¸ªå•å…ƒæµ‹è¯•"

AI è¡Œä¸ºï¼š
1. è¯»å–ç»“æ„ä½“å®šä¹‰
2. åˆ†æå­—æ®µç±»å‹å’Œçº¦æŸ
3. ç”Ÿæˆè¦†ç›–å¤šç§åœºæ™¯çš„æµ‹è¯•æ•°æ®ï¼š
   - åŸºæœ¬è¦†ç›–ï¼ˆæ‰€æœ‰å­—æ®µæœ‰å€¼ï¼‰
   - è¾¹ç•Œæµ‹è¯•ï¼ˆæœ€å°/æœ€å¤§å€¼ï¼‰
   - ç©ºå€¼æµ‹è¯•ï¼ˆé»˜è®¤å€¼ï¼‰
   - å¼‚å¸¸æµ‹è¯•ï¼ˆè¶…å‡ºèŒƒå›´ï¼‰
   - ä¸šåŠ¡é€»è¾‘ï¼ˆæ¡ä»¶å­—æ®µï¼‰

### 3. ç»“æ„ä½“ç”Ÿæˆ
ç”¨æˆ·è¯·æ±‚ç¤ºä¾‹ï¼š
- "åˆ›å»ºä¸€ä¸ªè£…å¤‡é…ç½®ç»“æ„ä½“"
- "æ ¹æ®è¿™ä¸ª Excel ç”Ÿæˆ Go ç»“æ„ä½“"

AI è¡Œä¸ºï¼š
1. è¯»å– Excel/CSV æ–‡ä»¶
2. åˆ†æå­—æ®µåå’Œç±»å‹
3. ç”Ÿæˆå¸¦å®Œæ•´ tag çš„ç»“æ„ä½“ï¼š
   - `excel:"field"` åŸºæœ¬æ˜ å°„
   - `excel:"field,required"` å¿…å¡«å­—æ®µ
   - `excel:"field,default:0"` é»˜è®¤å€¼
   - `excel:"field,when:condition"` æ¡ä»¶å­—æ®µ

### 4. Schema è¿ç§»
ç”¨æˆ·è¯·æ±‚ç¤ºä¾‹ï¼š
- "é…ç½®è¡¨ç»“æ„å˜äº†ï¼Œæ€ä¹ˆè¿ç§»ï¼Ÿ"
- "æ–°å¢äº†ä¸€ä¸ªå­—æ®µæ€ä¹ˆåŠï¼Ÿ"

AI è¡Œä¸ºï¼š
1. å¯¹æ¯”æ–°æ—§ç»“æ„ä½“å®šä¹‰
2. åˆ†æå˜æ›´ç±»å‹ï¼ˆæ–°å¢/åˆ é™¤/é‡å‘½å/æ‹†åˆ†/åˆå¹¶ï¼‰
3. ç”Ÿæˆè¿ç§»ä»£ç å»ºè®®

### 5. æ–‡æ¡£ç”Ÿæˆ
ç”¨æˆ·è¯·æ±‚ç¤ºä¾‹ï¼š
- "ç”Ÿæˆé…ç½®è¡¨æ–‡æ¡£"
- "å†™ä¸ªä½¿ç”¨è¯´æ˜"

AI è¡Œä¸ºï¼š
1. è¯»å–é…ç½®æ–‡ä»¶å’Œç»“æ„ä½“å®šä¹‰
2. ç”Ÿæˆ markdown æ–‡æ¡£ï¼ŒåŒ…å«ï¼š
   - è¡¨ç»“æ„è¯´æ˜
   - å­—æ®µç±»å‹å’Œçº¦æŸ
   - æšä¸¾å€¼è¯´æ˜
   - ä¸šåŠ¡è§„åˆ™
   - ä»£ç ç¤ºä¾‹

---

## AI çº¦æŸå’ŒåŸåˆ™

### å¿…é¡»éµå®ˆ

1. **æ–‡ä»¶è·¯å¾„ä¼˜å…ˆçº§**: é»˜è®¤ä½¿ç”¨ `gameconfig/testdata/` ä¸‹çš„æµ‹è¯•æ–‡ä»¶
2. **Mock æ•°æ®æ ¼å¼**: å¿…é¡»åŒ…å«è¡¨å¤´è¡Œï¼ˆç¬¬ä¸€è¡Œæ˜¯å­—æ®µåï¼‰
3. **é”™è¯¯å¤„ç†**: å§‹ç»ˆæ£€æŸ¥ `err != nil`
4. **å¹¶å‘å®‰å…¨**: v1.1.0+ å·²æ”¯æŒå¹¶å‘è¯»å–ï¼Œå¯æ”¾å¿ƒä½¿ç”¨

### æ¨èåšæ³•

1. **æ¸è¿›å¼æŠ«éœ²**: å…ˆç»™å‡ºç®€å•æ–¹æ¡ˆï¼Œå†æä¾›é«˜çº§é€‰é¡¹
2. **å¼•ç”¨ä»£ç **: ä½¿ç”¨ `file:line` æ ¼å¼å¼•ç”¨ç›¸å…³ä»£ç 
3. **æµ‹è¯•ä¼˜å…ˆ**: å»ºè®®ç”¨æˆ·å…ˆè¿è¡Œæµ‹è¯•éªŒè¯
4. **æ–‡æ¡£åŒæ­¥**: ä¿®æ”¹é…ç½®åæé†’æ›´æ–°æ–‡æ¡£

### é¿å…é™·é˜±

1. ä¸è¦å‡è®¾ Excel æ–‡ä»¶å­˜åœ¨ï¼Œå…ˆæ£€æŸ¥
2. ä¸è¦å¿½ç•¥ `when` æ¡ä»¶çš„ä¾èµ–é¡ºåº
3. ä¸è¦è®© Mock æ•°æ®ä¸å®é™…ç»“æ„ä¸ä¸€è‡´
4. ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒå»ºè®® `ModeExcel`

---

## å¿«é€Ÿå†³ç­–æ ‘

```
ç”¨æˆ·è¯·æ±‚
    â”‚
    â”œâ”€ åŒ…å«"å®¡æŸ¥"/"æ£€æŸ¥"/"é—®é¢˜"
    â”‚   â””â”€> æ‰§è¡Œé…ç½®å®¡æŸ¥
    â”‚
    â”œâ”€ åŒ…å«"æµ‹è¯•"/"mock"/"æµ‹è¯•æ•°æ®"
    â”‚   â””â”€> ç”Ÿæˆæµ‹è¯•æ•°æ®
    â”‚
    â”œâ”€ åŒ…å«"ç»“æ„ä½“"/"ç”Ÿæˆ"/"åˆ›å»º"
    â”‚   â””â”€> ç”Ÿæˆç»“æ„ä½“å®šä¹‰
    â”‚
    â”œâ”€ åŒ…å«"è¿ç§»"/"å˜æ›´"/"ç»“æ„å˜åŒ–"
    â”‚   â””â”€> Schema è¿ç§»å»ºè®®
    â”‚
    â”œâ”€ åŒ…å«"æ–‡æ¡£"/"è¯´æ˜"
    â”‚   â””â”€> ç”Ÿæˆæ–‡æ¡£
    â”‚
    â””â”€ å…¶ä»–é…ç½®ç›¸å…³
        â””â”€> å‚è€ƒåŸºç¡€ SKILL.md
```

---

## ç¤ºä¾‹å¯¹è¯

### ç”¨æˆ·: "å¸®æˆ‘å®¡æŸ¥ä¸€ä¸‹è£…å¤‡è¡¨"

**AI å“åº”æµç¨‹**:

1. **å®šä½é…ç½®æ–‡ä»¶**:
   ```bash
   # æ£€æŸ¥æµ‹è¯•æ–‡ä»¶
   ls gameconfig/testdata/excel/
   ```

2. **è¯»å–å¹¶åˆ†æ**:
   ```go
   // è¯»å–è£…å¤‡è¡¨
   loader := config.NewLoader[Equipment](
       "gameconfig/testdata/excel/è£…å¤‡è¡¨.xlsx",
       "æ­¦å™¨",
   )
   data, err := loader.Load()
   ```

3. **ç”ŸæˆæŠ¥å‘Š**:
   ```markdown
   ## è£…å¤‡è¡¨å®¡æŸ¥æŠ¥å‘Š

   âœ… ç»“æ„å®Œæ•´ï¼ˆ6 ä¸ªå­—æ®µï¼‰
   âš ï¸ å‘ç° 2 ä¸ªæ½œåœ¨é—®é¢˜ï¼š
     - 'attack' å­—æ®µå»ºè®®æ·»åŠ èŒƒå›´ [0,10000]
     - 'type' å­—æ®µç¼ºå°‘æšä¸¾æ³¨é‡Š

   ğŸ’¡ å»ºè®®ï¼šæ·»åŠ  `Validate()` æ–¹æ³•è¿›è¡Œä¸šåŠ¡è§„åˆ™éªŒè¯
   ```

---

## ä»£ç å¼•ç”¨æ ¼å¼

ä½¿ç”¨ `file:line` æ ¼å¼å¼•ç”¨ä»£ç ï¼š

- æ¡ä»¶å­—æ®µå®ç°: `gameconfig/internal/config/conditional_test.go:100`
- æ˜ å°„é€»è¾‘: `gameconfig/internal/config/mapper.go:50`
- æµ‹è¯•ç¤ºä¾‹: `gameconfig/tests/integration_test.go:200`
